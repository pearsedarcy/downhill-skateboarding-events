<!-- Events Section -->
<div class="card bg-base-100 shadow-lg hidden" id="events-tab">
    <div class="card-body">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
            <h2 class="card-title">
                <i class="fas fa-calendar text-primary mr-2"></i>
                Crew Events ({{ total_events }})
            </h2>
            
            {% if user_permissions.create or user_permissions.manage_crew %}
            <a href="{% url 'events:submit' %}?crew={{ crew.slug }}" class="btn btn-secondary btn-sm w-full sm:w-auto">
                <i class="fas fa-plus mr-2"></i>
                Create Event
            </a>
            {% endif %}
        </div>
        
        {% if upcoming_events or past_events %}
            <!-- Upcoming Events -->
            {% if upcoming_events %}
            <div class="mb-6 lg:mb-8">
                <h3 class="text-base lg:text-lg font-semibold mb-3 lg:mb-4 flex items-center">
                    <i class="fas fa-arrow-up text-success mr-2"></i>
                    Upcoming Events ({{ upcoming_events.count }})
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 lg:gap-4">
                    {% for event in upcoming_events %}
                    {% include 'crews/partials/event_card.html' with event=event is_past=False %}
                    {% endfor %}
                </div>
            </div>
            {% endif %}
            
            <!-- Past Events -->
            {% if past_events %}
            <div>
                <h3 class="text-base lg:text-lg font-semibold mb-3 lg:mb-4 flex items-center">
                    <i class="fas fa-history text-base-content/60 mr-2"></i>
                    Past Events ({{ past_events.count }})
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 lg:gap-4">
                    {% for event in past_events|slice:":6" %}
                    {% include 'crews/partials/event_card.html' with event=event is_past=True %}
                    {% endfor %}
                </div>
                
                {% if past_events.count > 6 %}
                <div class="text-center mt-4">
                    <div class="text-sm text-base-content/60">
                        and {{ past_events.count|add:"-6" }} more past event{{ past_events.count|add:"-6"|pluralize }}...
                    </div>
                </div>
                {% endif %}
            </div>
            {% endif %}
        {% else %}
            <!-- No Events -->
            <div class="text-center py-8 lg:py-12 text-base-content/60">
                <i class="fas fa-calendar text-3xl lg:text-4xl mb-3 lg:mb-4"></i>
                <h3 class="text-base lg:text-lg font-semibold mb-2">No Events Yet</h3>
                <p class="mb-3 lg:mb-4 text-sm lg:text-base">This crew hasn't organized any events yet.</p>
                {% if user_permissions.create or user_permissions.manage_crew %}
                <a href="{% url 'events:submit' %}?crew={{ crew.slug }}" class="btn btn-primary btn-sm">
                    <i class="fas fa-plus mr-2"></i>
                    Create First Event
                </a>
                {% endif %}
            </div>
        {% endif %}
    </div>
</div>
